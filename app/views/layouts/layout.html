{% extends "prototype-kit-template.njk" %}

{% block head %}
  <!-- Add your custom CSS or Sass in /app/assets/sass/main.scss -->
  <link href="/css/main.css" rel="stylesheet">
{% endblock %}

{% block header %}
  {% include "./_header.html" %}
  <div class="nhsuk-feedback-banner">
    <div class="nhsuk-width-container">
      <span><strong class="nhsuk-tag nhsuk-tag--red">Prototype</strong> This service is for testing purposes only and does not store personal data. <a href="https://www.nhs.uk/manage-your-appointments">Visit the real service.</a></span>
    </div>
  </div>
{% endblock %}

<!-- Edit the footer -->
<!-- Footer code examples can be found at https://service-manual.nhs.uk/design-system/components/footer -->
{% block footer %}
  {{ footer({
    meta: {
      items: [
        {
          href: "/",
          text: "Home"
        },
        {
          href: "/features",
          text: "Prototype features"
        },
        {
          href: "/prototype-admin/reset?returnPage=" + (currentPage | urlencode),
          text: "Reset data"
        }
      ],
      copyright: {
        text: 'Current depth: ' + siteLevel.depth
      }
    }
  }) }}
{% endblock %}

{% block bodyEnd %}
  <script src="/nhsuk-frontend/nhsuk-frontend.min.js" type="module"></script>
  <script type="module">
    import { initAll } from '/nhsuk-frontend/nhsuk-frontend.min.js'
    initAll()
  </script>
  {% block scripts %}
    <!-- Custom JavaScript files can be added to this file -->
    {% include "includes/scripts.html" %}
    {% set dataForScript %}{% if data %}{{ data | dump | safe }}{% else %}{}{% endif %}{% endset %}
    {% set slotsForScript %}{% if slots %}{{ slots | dump | safe }}{% else %}{}{% endif %}{% endset %}
    {% set groupsForScript %}{% if availabilityGroups %}{{ availabilityGroups | dump | safe }}{% else %}{}{% endif %}{% endset %}
    {% set summariesForScript %}{% if summaries %}{{ summaries | dump | safe }}{% else %}{}{% endif %}{% endset %}
    <script>
      console.log("session:", {{ dataForScript | safe }});
      console.log("slots:", {{ slotsForScript | safe }});
      console.log("availability groups:", {{ groupsForScript | safe }});
      console.log("summaries:", {{ summariesForScript | safe }});
    </script>
    <!-- For adding page specific JavaScript -->
    {% block pageScripts %}{% endblock %}
  {% endblock %}
{% endblock %}
